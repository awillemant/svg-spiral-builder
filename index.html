<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">

</head>

<body>
    
    <svg id="s" xmlns="http://www.w3.org/2000/svg" width="400" height="300"/>
    
    <script type="text/javascript">
        function makeSVG(tag, attrs) {
            var el= document.createElementNS('http://www.w3.org/2000/svg', tag);
            for (var k in attrs)
                el.setAttribute(k, attrs[k]);
            return el;
        }

        function path1(rayon,flag){
        	var finx=-1*rayon;
        	var finy=-1*rayon;
        	return "a "+rayon+" "+rayon+" 0 0 "+flag+" "+finx+" "+finy+" ";
        }
        function path2(rayon,flag){
        	var finx=-1*rayon;
        	var finy=+1*rayon;
        	return "a "+rayon+" "+rayon+" 0 0 "+flag+" "+finx+" "+finy+" ";
        }
        function path3(rayon,flag){
        	var finx=+1*rayon;
        	var finy=+1*rayon;
        	return "a "+rayon+" "+rayon+" 0 0 "+flag+" "+finx+" "+finy+" ";
        }
        function path4(rayon,flag){
        	var finx=+1*rayon;
        	var finy=-1*rayon;
        	return "a "+rayon+" "+rayon+" 0 0 "+flag+" "+finx+" "+finy+" ";
        }


        function buildPath(pointDepart,rayonIncrement,nbSpires,ecartement){
        	var path = "M "+pointDepart.x+" "+pointDepart.y+" ";

        	console.log(nbSpires);
        	for(var i=0; i<nbSpires ; i++){
        		console.log(i);

        		path=path+path1((i*4)*rayonIncrement,0);
        		path=path+path2((i*4+1)*rayonIncrement,0);
        		path=path+path3((i*4+2)*rayonIncrement,0);
        		path=path+path4((i*4+3)*rayonIncrement,0);
        		
        	}

        	console.log(path);

        	var offset = (rayonIncrement*4*ecartement);
        	path = path +"l "+offset+" 0";

        	i=i-1;

        	for(i;i>=0;i--){
        		path=path+path4(-1*((i*4+3)*rayonIncrement+offset),1);
        		path=path+path3(-1*((i*4+2)*rayonIncrement+offset),1);
        		path=path+path2(-1*((i*4+1)*rayonIncrement+offset),1);
        		path=path+path1(-1*((i*4)*rayonIncrement+offset),1);
        	}

        	path=path+"z";
        	console.log(path);

        	return makeSVG('path',{fill:'red',stroke:'black','stroke-width':1,d:path});

        }
        var spirale = buildPath({x:200,y:200},2,10,0.6);
        
        document.getElementById('s').appendChild(spirale);
        
    </script>

</body>
</html>